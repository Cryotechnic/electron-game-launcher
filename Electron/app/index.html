<!DOCTYPE html>
<html class="desktop">

<head>
    <meta charset="utf-8">
    <title>Den Game Launcher</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="src/js/gsap/TweenMax.js"></script>
    <script src="src/js/gsap/easing/EasePack.js"></script>
    <script src="src/js/gsap/plugins/ScrollToPlugin.js"></script>
    <script src="src/js/howler.min.js"></script>
    
<script>
    
    var { ipcRenderer, remote, webview } = require('electron');

    var appPath = false;
    var appDataPath = false;
    var config = {};
    ipcRenderer.on('appConfig', (event, args) => {
        console.log('ayyy')
        console.log(args)
        appDataPath = args.appDataPath
        config = args.config
        gamesDB = args.games
        //global.AppJS.forceRefresh()
        dLog("HELLOWORLD")
    });

    let mainValue = ipcRenderer.send('ready', 1);

    dLog = (text) => {
        ipcRenderer.send('MainThreadMessage', text);
    }

    setTimeout(() => { window.dLog("HELLO WORLD2") }, 500);

    

</script>
</head>

<body>

    <div id="title-bar">
        <div id="title-bar-title"></div>
        <div id="title-bar-btns">
            <button id="title-min-btn"><img src="images/icons/minimize.svg" /></button>
            <button id="title-max-btn"><img src="images/icons/unmaximize.svg" /></button>
            <button id="title-close-btn"><img src="images/icons/close.svg" /></button>
        </div>
    </div>
    <script>require('./src/js/titlebar.js')</script>


    <div id="background"></div>
    <div id="app" onKeyDown="global.Input.HandleKeyDown(event)" onKeyUp="global.Input.HandleKeyUp(event)" tabIndex="0"></div>


    <script>
        
        var backgroundWorker = new Worker('./src/js/test.js')     
        setInterval(() => {
            if(document.hasFocus()) {
                document.body.className = "hasFocus"
            } else {
                document.body.className = "noFocus"
            }
        },250)
    </script>

<script>
require('./build/bundle.js')
</script>


</body>

</html>