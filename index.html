<!DOCTYPE html>
<html class="desktop">
<head>
    <meta charset="utf-8">
    <title>Den Game Launcher</title>
    <link rel="stylesheet" href="css/style.css">
    <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
    <script>global = {}</script>
    <script src="src/js/jquery-3.3.1.slim.min.js"></script>
    <script src="src/js/gsap/TweenMax.js"></script>
    <script src="src/js/gsap/easing/EasePack.js"></script>
    <script src="src/js/gsap/plugins/ScrollToPlugin.js"></script>
    <script src="src/js/howler.min.js"></script>
    <script>if (window.module) module = window.module;</script>
    
<script>

    var appPath = false;
    var appDataPath = false;
    var config = {};

        appDataPath = "demodata/"
        var config = fetch('demodata/config.json')
  .then((response) => {
    return response.json();
  });
        var gamesDB = {};
        window.gamesDB = {steam:{}}
        fetch('demodata/games.steam.json').then((response) => {
    return response.json().then(j => window.gamesDB.steam = j);
    
  });



setInterval(function(){
    clock = document.getElementById('clock');
  clock.innerHTML = window.global.getCurrentTime();
}, 10000);

window.global.getCurrentTime = () => {
  var currentDate = new Date();
  var hours = currentDate.getHours() > 12 ? currentDate.getHours() - 12 : currentDate.getHours();
  hours === 0 ? hours = 12 : hours = hours;
  var m = (currentDate.getHours() >= 12 ? "PM" : "AM")
  var minutes = currentDate.getMinutes();
  var seconds = currentDate.getSeconds() < 10 ? '0' + currentDate.getSeconds() : currentDate.getSeconds();
  var currentTime = hours + ':' + (minutes < 10 ? "0" + minutes : minutes);
  return currentTime;
}

</script>
</head>

<body>

    <div id="title-bar" style="display:none">
        <div id="title-bar-title"></div>
        <div id="title-bar-btns">
            <button id="title-min-btn"><img src="images/icons/minimize.svg" /></button>
            <button id="title-max-btn"><img src="images/icons/unmaximize.svg" /></button>
            <button id="title-close-btn"><img src="images/icons/close.svg" /></button>
        </div>
    </div>
    <script src="src/js/jquery-3.3.1.slim.min.js"></script>


    <div id="background"></div>
    <div id="app" onKeyDown="global.Input.HandleKeyDown(event)" onKeyUp="global.Input.HandleKeyUp(event)" tabIndex="0"></div>


    <script> 
        setInterval(() => {
            if(document.hasFocus()) {
                document.body.className = "hasFocus"
            } else {
                document.body.className = "noFocus"
            }
        },250)
    </script>

    <script>

        window.fsEventRecieved = (event, args) => {
        console.log(event, args)
        if(args) {
            $("html").removeClass("desktop")
        } else {
            $("html").addClass("desktop")
        }
    }
    
    </script>

<script src="build/bundle.js"></script>

<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">

</body>

</html>